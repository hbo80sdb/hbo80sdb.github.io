<!DOCTYPE html>
<html lang="en">
   <head> 
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>HBO 80s Database</title>
      <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" >
      <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" >
      <link rel="shortcut icon" href="favicon/favicon.ico" >
      <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" >
      <link rel="manifest" href="favicon/site.webmanifest" >

      <link rel="stylesheet" href="stylesheet.css">


   </head>

			
   <body>
<div class="coming-soon">

<p>COMING SOON!</p>

</div>


	<div class="search-section">
<picture>
    <source media="(min-width: 480px)" srcset="Main-Logo-Big-vers-4.png 800w" sizes="27vw">
    <img src="theHBO80sdbsmall.png" alt="logo">
</picture>
	<h1>Searchable 1980s Program Guide Database</h1>
	<p></p>
	
<!-- Collapsable Words of Caution -->

<button type="button" class="collapsible">Words of Caution:</button>
<div class="content">
		
	<div class="words-of-caution-container">
	<div class="words-of-caution-section">
	<ul class="words-of-caution-list">
		<li><span class="words-of-caution-abbrev"><b>AS</b></span><span class="words-of-caution-definition">Adult Situations</span></li>

		<li><span class="words-of-caution-abbrev"><b>AL</b></span><span class="words-of-caution-definition">Adult Language</span></li>
	</ul>
	</div>

	<div class="words-of-caution-section">
	<ul class="words-of-caution-list">
		<li><span class="words-of-caution-abbrev"><b>AH</b></span><span class="words-of-caution-definition">Adult Humor</span></li>

		<li><span class="words-of-caution-abbrev"><b>V</b></span><span class="words-of-caution-definition">Violence</span></li>
	</ul>
	</div>

	<div class="words-of-caution-section">
	<ul class="words-of-caution-list">
		<li><span class="words-of-caution-abbrev"><b>MV</b></span><span class="words-of-caution-definition">Mild Violence</span></li>

		<li><span class="words-of-caution-abbrev"><b>GV</b></span><span class="words-of-caution-definition">Graphic Violence</span></li>
	</ul>
	</div>

	<div class="words-of-caution-section">
	<ul class="words-of-caution-list">
		<li><span class="words-of-caution-abbrev"><b>N</b></span><span class="words-of-caution-definition">Nudity</span></li>

		<li><span class="words-of-caution-abbrev"><b>BN</b></span><span class="words-of-caution-definition">Brief Nudity</span></li>
	</ul>
	</div>

	<div class="words-of-caution-section">
	<ul class="words-of-caution-list">
		<li><span class="words-of-caution-abbrev"><b>SC</b></span><span class="words-of-caution-definition">Strong Sexual Content</span></li>
		<li><span class="words-of-caution-abbrev"><b>R</b></span><span class="words-of-caution-definition">Rape</span></li>
	</ul>
	</div> <!-- Collapsable -->
	</div>


	</div>





<p>This is a fan site for entertainment purposes only and is not affiliated with Home Box Office, Inc.</p>




	</tbody>
</table>
</div>
</div>
<div id="pagination"></div>
</div>
</div>


<script>

var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.display === "block") {
      content.style.display = "none";
    } else {
      content.style.display = "block";
    }
  });
}

document.addEventListener("DOMContentLoaded", function () {
    // Automatically focus on the search input field
    document.getElementById("searchInput").focus();
    const searchInput = document.getElementById("searchInput");
    const searchButton = document.getElementById("searchButton");
    const rowsPerPageDropdown = document.getElementById("rowsPerPage");
    const headers = document.querySelectorAll("#dataTable th");

    let currentPage = 1;
    let rowsPerPage = 10;
    let sortOrder = 1; // 1 for ascending, -1 for descending
    let currentColumnIndex = null; // Track the sorted column, null if unsorted
    let originalOrder = []; // Store the original order of rows

    const table = document.getElementById("dataTable");
    const tbody = table.tBodies[0];

    // Store the original order of rows
    originalOrder = Array.from(tbody.rows);

    // Trigger search when pressing Enter
    searchInput.addEventListener("keydown", function (event) {
    if (event.key === "Enter") {
        searchTable();
        scrollToResults(); // Ensure scrolling happens when pressing Enter
    }
});

    // Trigger search when clicking the button
    searchButton.addEventListener("click", function () {
        searchTable();
        scrollToResults();
    });

    // Update rows per page and re-search when dropdown changes
    rowsPerPageDropdown.addEventListener("change", function () {
        const searchInputValue = searchInput.value.trim();
        if (searchInputValue) {
            rowsPerPage = parseInt(this.value);
            searchTable();
        }
    });

    // Attach click event listeners to all table headers for sorting
    headers.forEach((header, index) => {
        header.addEventListener("click", () => {
            updateHeaderClasses(headers, header);
            sortTable(index);
        });
    });

    function searchTable() {
        const filter = searchInput.value.toLowerCase();
        const tr = table.getElementsByTagName("tr");

        const matches = [];
        for (let i = 1; i < tr.length; i++) {
            tr[i].style.display = "none";
            const td = tr[i].getElementsByTagName("td");
            for (let j = 0; j < td.length; j++) {
                if (td[j]) {
                    const txtValue = td[j].textContent || td[j].innerText;
                    if (txtValue.toLowerCase().indexOf(filter) > -1) {
                        matches.push(tr[i]);
                        break;
                    }
                }
            }
        }

        if (matches.length === 0 || !filter) {
            table.style.display = "none";
            return;
        }

        table.style.display = "table";

        // Sort matches based on currentColumnIndex if sorting has been applied
        if (currentColumnIndex !== null) {
            sortVisibleRows(currentColumnIndex, matches);
        } else {
            restoreOriginalOrder(matches);
        }

        const totalPages = Math.ceil(matches.length / rowsPerPage);
        if (currentPage > totalPages) currentPage = totalPages;

        const start = (currentPage - 1) * rowsPerPage;
        const end = start + rowsPerPage;

        for (let i = start; i < end && i < matches.length; i++) {
            matches[i].style.display = "";
        }

        renderPagination(totalPages);
    }

    function sortTable(columnIndex) {
        currentColumnIndex = columnIndex;
        sortOrder *= -1; // Toggle sort order
        searchTable(); // Reapply search with sorting
    }

    function sortVisibleRows(columnIndex, rows) {
        rows.sort((a, b) => {
            const cellA = a.cells[columnIndex].textContent.trim();
            const cellB = b.cells[columnIndex].textContent.trim();

            const valueA = isNaN(cellA) ? cellA.toLowerCase() : parseFloat(cellA);
            const valueB = isNaN(cellB) ? cellB.toLowerCase() : parseFloat(cellB);

            if (valueA < valueB) return -1 * sortOrder;
            if (valueA > valueB) return 1 * sortOrder;
            return 0;
        });

        rows.forEach(row => tbody.appendChild(row));
    }

    function restoreOriginalOrder(rows) {
        // Restore the original order of rows that match the search
        const orderedMatches = originalOrder.filter(row => rows.includes(row));
        orderedMatches.forEach(row => tbody.appendChild(row));
    }

    function renderPagination(totalPages) {
        const pagination = document.getElementById("pagination");
        pagination.innerHTML = "";

        for (let i = 1; i <= totalPages; i++) {
            const pageLink = document.createElement("button");
            pageLink.textContent = i;
            pageLink.classList.add("page-link");
            if (i === currentPage) {
                pageLink.classList.add("active");
            }
            pageLink.addEventListener("click", function () {
                currentPage = i;
                searchTable();
            });
            pagination.appendChild(pageLink);
        }
    }

    function updateHeaderClasses(headers, clickedHeader) {
        headers.forEach(header => header.classList.remove("ascending", "descending"));
        if (sortOrder === 1) {
            clickedHeader.classList.add("ascending");
        } else {
            clickedHeader.classList.add("descending");
        }
    }

    function scrollToResults() {
        const resultsContainer = document.getElementById("searchResults") || table;
        if (resultsContainer) {
            resultsContainer.scrollIntoView({ behavior: "smooth", block: "start" });
        }
    }
});
</script>






   </body>
</html>